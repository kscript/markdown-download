const getLocal=s=>new Promise((e=>{chrome.storage.local.get(s,(t=>{e(t[s])}))})),setWebsite=async(s,e)=>{const t=await getLocal("websites"),o=Object.assign({},t instanceof Object?t:{}),i=[[s&&"string"==typeof s,"第一个参数应该是字符串类型, 并且不能为空"],[Array.isArray(e.hosts)&&e.hosts.length,"options.hosts应该是数组，并且长度不能为0"],[(e.selectors||{}).body,"options.selectors.body不能为空"]].find((s=>!s[0]));return i?null===e?(delete o[s],chrome.storage.local.set({websites:o})):i[1]&&console.warn(i[1]):(e.origin=s,e.timestamp=Date.now(),e.hosts=e.hosts.map((s=>s.toString())),Object.assign(o,{[s]:e}),chrome.storage.local.set({websites:o})),o};window.setWebsite=setWebsite;